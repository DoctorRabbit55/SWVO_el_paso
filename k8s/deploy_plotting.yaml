apiVersion: apps/v1
kind: Deployment
metadata:
  name: data-management-plotting-routines
spec:
  selector:
    matchLabels:
      app: data-management-plotting-routines
  replicas: 1
  template:
    metadata:
      labels:
        app: data-management-plotting-routines
    spec:
      containers:
      - name: data-management-plotting-routines
        image: kub1:5000/data-management:latest
        command: ["./plot_entrypoint.sh"]
        env:
          - name: RECURRENT
            value: "1"
          - name: LOG_DIR
            value: "/PAGER/WP8/logs/"
          - name: PYTHON_ENV
            value: "PAGER_env"
          - name: SLEEP_TIME_MINUTES
            value: "10"
          - name: WP2_OUTPUT_FOLDER
            value: "/"
          - name: WP2_FIGURE_FOLDER
            value: "/"
          - name: WP3_OUTPUT_FOLDER
            value: "/"
          - name: WP3_FIGURE_FOLDER
              value: "/"
        volumeMounts:
           - name: host-volume
             mountPath: /PAGER
        ports:
        - containerPort: 80
      volumes:
        - name: host-volume
          hostPath:
            path: /home/ruggero/PAGER
            type: Directory
